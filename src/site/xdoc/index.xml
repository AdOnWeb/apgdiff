<?xml version="1.0"?>
<document xmlns:j="jelly:core">
    
    <properties>
        <title>Welcome to Another PostgreSQL Diff Tool</title>
        <author email="miroslav.sulc@startnet.cz">Miroslav Å ulc</author>
        <revision>$Revision$</revision>
    </properties>
    
    <body>
        <section name="Welcome to Another PostgreSQL Diff Tool">
            <p>
                Another PostgreSQL Diff Tool is simple PostgreSQL diff tool that
                is useful for schema upgrades. The tool compares two schema dump
                files and creates output file that is (after some hand-made
                modifications) suitable for upgrade of old schema. I've created this
                tool because I need to perform PostgreSQL database schema upgrades
                for our application. I didn't found anything suitable so I created
                this simple tool. I decided to place it on SourceForge.Net because
                it might be useful for other developers too.
            </p>
        </section>
        <section name="How the Program Works">
            <p>
                apgdiff is a command-line tool. It takes two parameters. One is
                the original database schema dump file, the other is the new
                database schema dump file. The command might look like this:    
            </p>
            <code>java -jar apgdiff.jar original_schema_dump.sql new_schema_dump.sql</code>
            <p>
                After you press Enter, you will see SQL commands and modification
                information on the screen (or Java exception if format of your dump
                file is not supported - in such a case you can create patch to
                handle the dump format or send me your dump files and I'll have a
                look at it). You can also redirect the output to a file:
            </p>
            <code>java -jar apgdiff.jar original_schema_dump.sql new_schema_dump.sql > diff.sql</code>
        </section>
        <section name="List of Features">
            <ul>
                <li>
                    apgdiff looks for differences in definitions of tables,
                    sequences, constraints and indexes
                </li>
                <li>
                    apgdiff creates SQL commands for creations and drops
                    of database objects and for modifications of columns
                </li>
                <li>
                    modifications of other database objects are outputted
                    informatively and are left to the developer to decide
                    how to handle them
                </li>
                <li>
                    CREATE TABLE, ALTER TABLE (except ALTER TABLE ... OWNER TO
                    ...), CREATE SEQUENCE and CREATE INDEX commands are supported
                </li>
                <li>
                    Comments, empty lines, SET, COMMENT, SELECT, INSERT INTO,
                    REVOKE, GRANT and possibly other commands are ignored
                </li>
            </ul>
            <p>
                Note: I use apgdiff on dumps generated from PostgreSQL 8.1.3 so
                it might not work on dumps from other versions if there are some
                differences in the format that the code cannot handle at this
                moment. Feel free to submit a patch for such a problem or send
                me your dump and I'll have a look at it.
            </p>
        </section>
        <section name="Requirements">
            <p>
                apgdiff is a Java program so you need Java installed. apgdiff
                requires Java 1.5. I use "Sun JDK 1.5.0.06".
            </p>
        </section>
        <section name="Bugs">
            <p>
                There are still a lot of them because I implement support
                for some column types and SQL features as I need it. If you want
                to speed the things up, you can participate and create a patch
                or send me your dump that causes Java exception and I may
                resolve it.
            </p>
        </section>
        <section name="Download">
            <p>
                You can download the program from
                <a href="http://sourceforge.net/project/showfiles.php?group_id=163508">
                    SourceForge.Net download page
                </a>.
            </p>
        </section>
        <section name="Future">
            <p>
                As I use this tool quite often I will probably release new
                versions from time to time. If you are interested in this tool
                and have a patch for it, send it to me and I'll add it to a new
                release.
            </p>
        </section>
        <section name="Contact">
            <p>
                You can contact me at <a href="mailto:miroslav.sulc@startnet.cz">
                    mailto:miroslav.sulc@startnet.cz
                </a>.
            </p>
        </section>
    </body>
</document>
